---
title: 徐徐赶来的快速排序
categories: 
	- 学习
tags: 
	- 随便给个标签好了
cover: https://s2.ax1x.com/2019/11/01/KbkyqA.jpg
---

# 封面有遮挡!?

<img src="https://s2.ax1x.com/2019/11/01/KbkyqA.jpg"  title="还是学习使人快活呀"/>

<br/>
<br/>

# 简简单单,快速排序

输入格式:
输入有两行：

第一行是n和k，0<k<=n<=10000

第二行是n个整数

输出格式:
输出第k小的数

输入样例:
```
10 4
2 8 9 0 1 3 6 7 8 2
```

输出样例:
```
2
```

<br/>
<br/>
  
``` 
#include <iostream>
using namespace std;
int arr[1000];  //全局数组默认为 0
void swap(int arr[],int i,int j)
{
	int temp;
	temp=arr[i];
	arr[i]=arr[j];
	arr[j]=temp;
}
int Partition(int arr[],int p,int r)
{
	int i=p,j=r+1;
	int x=arr[p];
	while(true)
	{
		while(arr[++i]<x&&i<r);
		while(arr[--j]>x);
		
		//上面两个while语句里的数组 i/j 是 ++i/--j 
		//是因为传进来的p和r是数组的头和尾(0和n-1)
		
		if(i>=j) break;
		//i>=j时,已经是a[i] >= x >= a[j],升序,不用换
		swap(arr,i,j);
	}
	
	arr[p]=arr[j];
	arr[j]=x;
	return j;
}

void quicksort(int arr[],int p,int r)
{
	if(p<r)
	{
		int q=Partition(arr,p,r);
		quicksort(arr,p,q-1);
		quicksort(arr,q+1,r);
	}
}

int main()
{
	int n;
	cin>>n;
	
	int arr[n];
	for(int i=0;i<n;i++)
	cin>>arr[i];
	
	quicksort(arr,0,n-1);
	
	for(int i=0;i<n;i++)
	cout<<arr[i]<<" ";
 } 
 ```
 
 <br/>
 
这里说一下swap()函数,自己重写该函数,参数变成三个,方便了传参**( swap(arr,i,j) )**  
而C++本身就自带swap()函数,参数只有要交换的两个数**( swap(arr[i],arr[j]) )**,但却要包含头文件**#include <algorithm>**方可使用  
另外再说明一下,自己写的**swap()**传的是数组,暗含的就是指针,也就是直接在地址层面修改  
而自带的**swap()**是**引用传递**


<br/>
<br/>
<br/>
<br/>

---

# 随机生成基准元素的快速排序

```
#include <iostream>
using namespace std;
#include <algorithm>  // 若不自己定义swap()函数, 该头文件里也有swap()函数,参数是两个 
#include <stdlib.h>    //包含rand()函数的头文件
int Partition(int arr[],int p,int r)
{
	int i=p,j=r+1;
	int x=arr[p];
	while(true)
	{
		while(arr[++i]<x&&i<r);
		while(arr[--j]>x);
		if(i>=j) break;
		swap(arr[i],arr[j]);
	}
	
	arr[p]=arr[j];
	arr[j]=x;
	return j;
}

int RandomizedPartition(int arr[],int p,int r)
{
	int i= ( ( rand() % (r-p+1) ) + p );  //随机生成[p,r]的数字
	swap(arr[i],arr[p]);
	return Partition(arr,p,r);
}

void RandomizedQuickSort(int arr[],int p,int r)
{
	if(p<r)
	{
		int q=RandomizedPartition(arr,p,r);
		RandomizedQuickSort(arr,p,q-1);
		RandomizedQuickSort(arr,q+1,r);
	}
}

int main()
{
	int n,arr[1000];
	cin>>n;
	
	for(int i=0;i<n;i++)
	cin>>arr[i];
	
	RandomizedQuickSort(arr,0,n-1);
	
	for(int i=0;i<n;i++)
	cout<<arr[i]<<" ";
 } 
```

<br/>
<br/>
<br/>

# rand()函数的应用

要取得\[a,b)的随机整数，使用(rand() % (b-a))+ a (结果值含a不含b)
要取得\[a,b\]的随机整数，使用(rand() % (b-a+1))+ a (结果值含a和b)
要取得(a,b\]的随机整数，使用(rand() % (b-a))+ a + 1 (结果值不含a含b)

总的来说，通用公式：a + rand() % n ；其中的a是起始值，n是整数的范围





